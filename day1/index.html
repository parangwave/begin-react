<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>State Functions</title>
    <!-- state; ê¸°ë³¸ì ìœ¼ë¡œ ë°ì´í„°ê°€ ì €ì¥ë˜ëŠ” ê³³ -->
    <!-- react js ì–´í”Œì— ê°’ì´ ë°”ë€” ë°ì´í„°ë¥¼ ë‹´ì•„ì¤„ ìˆ˜ ìˆì„ê¹Œ ì‚´í´ë³´ê¸°-->
    <!-- í›„ì— ë‚´ìš© ë³µìŠµ, component(=í•¨ìˆ˜)ì— stateë¥¼ ë”í•  ê²ƒì„ -->
    <!-- modifier ì“°ëŠ” ë°©ë²•, ì™œ modifierê°€ ì´ìš©í•´ì•¼ í•˜ëŠ”ì§€ -->

    <!-- JSX; JSë¥¼ í™•ì¥í•œ ë¬¸ë²•  -->
    <!-- htmlì—ì„œ ì‚¬ìš©í•œ ë¬¸ë²•ê³¼ í¡ì‚¬í•œ ë¬¸ë²•ì„ ì‚¬ìš©í•´ì„œ reactìš”ì†Œë¥¼ ë§Œë“¤ ìˆ˜ ìˆê²Œ í•¨ -->
  </head>
  <body>
    <div id="root"></div>
  </body>
  <!-- for react ì‘ì—…, react, react domë¥¼ importí•´ì•¼ í•¨ -->
  <!-- React JS(ì—”ì§„) = ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì•„ì£¼ interactiveí•˜ë„ë¡ ë§Œë“¤ì–´ì£¼ëŠ” library -->
  <script src="https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
  <!-- React DOM = library ë˜ëŠ” package, ëª¨ë“  react elementë“¤ì„ html bodyì— ë‘ëŠ” ì—­í•  -->
  <script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
  <!-- consoleì— Reactë¥¼ ì³ë³´ê³  ì˜ importë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸° -->

  <!-- Babel; ì½”ë“œ ë³€í™˜í•´ì¤Œ. ìš°ë¦¬ê°€ JSXë¡œ ì ì€ ì½”ë“œë¥¼ ë¸Œë¼ìš°ì €ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ë°”ê¿”ì¤Œ -->
  <!-- Babel standaloneì„ í†µí•´ ë‹¤ìš´ë°›ì„ ê²ƒ -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    // React Js elementë¥¼ ìƒì„±í•˜ëŠ” ë°©ë²•
    // jsë¥¼ ì´ìš©í•´ì„œ ë§Œë“¤ê²ƒì„
    // ì°¸ê³ ë¡œ ê°œë°œìë“¤ì´ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì€ X

    const root = document.getElementById("root");
    // let counter = 0;

    // function countUp() {
    //   counter += 1;
    //   render();
    //   // ReactDOM.render(<Container />, root);
    // }
    
    // ì´ì œ Container componentëŠ” ì—…ë°ì´íŠ¸ëœ counterë¥¼ ê°€ì§€ê³  ìˆì„ ê²ƒì„
    // ìš°ë¦¬ê°€ í•´ì•„í•˜ëŠ” ê²ƒ = ë°ì´í„°ê°€ ë°”ë€”ë•Œë§ˆë‹¤, Containerë¥¼ ë¦¬ë Œë”ë§ 
    // ìµœê³ ì˜ ë°©ì‹ X b/c í¼, ë¡œê·¸ì¸ í˜ì´ì§€, ì•Œë¦¼ë“¤ì„ ê³„ì† í˜¸ì¶œí•œë‹¤ê³  ê°€ì •í•˜ë©´.. ğŸ˜ˆ
    // function render() {
    //   ReactDOM.render(<Container />, root);
    // }

    // consoleì— spanì„ ì¹˜ë©´ ë‚˜ì˜´
    // ì¦‰, spanì€ ìƒì„±ë˜ì—ˆìœ¼ë‚˜ pageì—ëŠ” ì˜¬ë¼ì˜¤ì§€ X
    // ë‘ë²ˆì§¸ argumentë¡œ spanì˜ propsë¥¼ ë‘˜ ìˆ˜ ìˆìŒ

    // â­ reactëŠ” element ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•˜ë©´ ê·¸ê±¸ ì•Œê³  ìë™ìœ¼ë¡œ í•¨
    // â­ ì¦‰, ìœ ì €ì—ê²Œ ë³´ì¼ ë‚´ìš©ì„ ì œì–´í•  ìˆ˜ ìˆìŒ
    // â­ JSì—ì„œ elementë¥¼ ë§Œë“¦ -> React JSê°€ htmlë¡œ ë²ˆì—­í•¨

    // React JSëŠ” ë°”ë¡œ interactivityë¥¼ ìœ„í•˜ì—¬ ì œì‘ë¨
    // interactiveí•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ í•˜ëŠ” ì‘ì—…ë“¤ = ëª¨ë‘ event ê°ì§€í•˜ëŠ” ì¼
    // addEventListenerë¥¼ í•˜ë‚˜í•˜ë‚˜ ë“±ë¡í•˜ëŠ” ëŒ€ì‹ , propertyì—ì„œ eventë¥¼ ë“±ë¡í•  ìˆ˜ ìˆê²Œ ë¨
    /*
    const h3 = React.createElement(
      "h3",
      {
        id: "title",
        style: { color: "cornflowerblue" },
        onMouseEnter: () => console.log("mouse enter"),
      },
      "Hello , I'm a span"
    );
    */

    // JSX ë¬¸ë²•ìœ¼ë¡œ ì“°ë‹ˆ html ë¬¸ë²•ì— ê°€ê¹Œì›€!
    // html tagì‚¬ì´ì— contentë¥¼ ë„£ê³  propsë¥¼ ì ì–´ì£¼ë©´ ë¨

    // arrow funcì˜ ()ì™€ {} ì‚¬ìš©ì˜ ì°¨ì´ì 
    // () => (); ; ì´ë¯¸ returnê¹Œì§€ í¬í•¨í•¨ (í¸ë¦¬í•œ ë¬¸ë²•ìœ¼ë¡œ ì‚¬ìš© å¤š)
    // () => {return ();} = () => ();

    // â€» constantì˜ ì´ë¦„ì€ html íƒœê·¸ ì´ë¦„ê³¼ ë°˜ë“œì‹œ ì¼ì¹˜í•  í•„ìš” XX
    /*
    const btn = React.createElement(
      "button",
      {
        onClick: () => console.log("i'm clicked"),
      },
      "Click me"
    );
    */

    // const container = React.createElement("div", null, [h3, btn]);
    // const Container = <div>Title Button</div>;

    // JSX pt.2ëŠ” ë°‘ì˜ ì½”ë“œë¥¼ JSX ë°©ì‹ìœ¼ë¡œ ì ì–´ë³¼ ê²ƒì„ 
    // const Container  = React.createElement("div", null, [Title, Button]);

    // componentë¥¼ ë‹¨ í•œ ë²ˆë§Œ ë Œë”ë§í•˜ê³  ìˆìŒ
    // ë§‰ í˜ì´ì§€ê°€ ë¡œë“œ -> Container ì•ˆ counter = 0
    // Container ì•ˆ ì½”ë“œ ì–´ë””ì• ì„œë„ UIë¥¼ ìƒˆë¡œê³ ì¹¨ X

    // ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹œì‘ ë  ë•Œ, Containerë¥¼ ë Œë”ë§í•¨, counter = 0
    // onClick eventListenerë¥¼ ë“±ë¡, click-> counterê°€ ì¦ê°€
    // Containerë¥¼ ë‹¤ì‹œ ë Œë”ë§ => ê·¸ë˜ì„œ rerender í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ğŸ˜€
    // â­ react JsëŠ” UIì—ì„œ ë°”ë€ ë¶€ë¶„ë§Œ ì—…ë°ì´íŠ¸í•¨ (h3, divëŠ” ì—…ë°ì´íŠ¸X)
    // React JsëŠ” ì´ì „ì— ë Œë”ë§ëœ ì»´í¬ë„ŒíŠ¸ëŠ” ì–´ë–¤ ê±°ì˜€ëŠ”ì§€ í™•ì¸í•˜ê³  ìˆìŒ

    // counterê°€ 0ì¼ë•Œ, ìµœì´ˆì˜ ë Œë”ë§ -> counter ê°’ì„ ì—†ë°ì´íŠ¸ -> ë¦¬ë Œë”ë§
    // = ì´ˆê¸° componentê°€ ì´ˆê¸° ë°ì´í„°ë¥¼ ê°€ì§€ê³  ë Œë”ë§ -> eventListenerë¥¼ í†µí•´ ë¦¬ë Œë”ë§ (ìµœì„ ì˜ ë°©ì‹ X)
    // => ğŸ‘ React JS ì–´í”Œ ë‚´ì—ì„œ ë°ì´í„°ë¥¼ ë³´ê´€, ìë™ìœ¼ë¡œ ë¦¬ë Œë”ë§ ğŸ‘ -> ë§¤ë²ˆ í•¨ìˆ˜ í˜¸ì¶œí•  í•„ìš” X
    // ì‚¬ìš©ìì—ê²Œ ìƒˆë¡œìš´ ì •ë³´ë¥¼ ë³´ì—¬ì£¼ê³  ì‹¶ìœ¼ë©´, ìƒˆë¡œìš´ ì •ë³´ë¥¼ ê°€ì§€ê³  componentë¥¼ ë¦¬ë Œë”ë§ í•´ì¤˜ì•¼í•¨
    // â­ React Jsê°€ ì–´ë–»ê²Œ ë°ì´í„°ë¥¼ updateí•˜ëŠ” ì§€ ì›ë¦¬ë¥¼ ì˜ íŒŒì•…í•´ë³´ê¸°!
    
    function App () {
      // const data = React.useState();
      const data = React.useState(0);
      // data(ì´ˆê¸°ê°’) dataë¥¼ ë°”ê¾¸ê¸° ìœ„í•œ func
      // console.log(data);  // arrayë¥¼ ë°˜í™˜ { undefined, func }
      
      // â­ ë°°ì—´ì—ì„œ ìš”ì†Œ -> ë³€ìˆ˜
      // const [counter, modifier] = React.useState(0);
      const [counter, setCounter] = React.useState(0);
      const onClick = () => {
        // setCounter(counter + 1);
        // modifier í•¨ìˆ˜ê°€ counterì˜ ê°’ì„ ë°”ê¾¸ê³  ë¦¬ë Œë”ë§ê¹Œì§€ ìë™
        // ì¦‰, counterë¼ê³  ì„¤ì •í•œ í˜„ì¬ stateë¥¼ ì´ìš© -> ë‹¤ìŒ stateë¥¼ ìœ„í•´ ê³„ì‚°
        
        /* 1. setCounterë¥¼ ì„¤ì •í•´ì„œ ìƒˆ ê°’ìœ¼ë¡œ ë³€ê²½
        // í•œ ë²ˆ ì„¤ì •í•˜ë©´ ë³€ê²½ X */
        // setCounter(987);

        /* 2. í•¨ìˆ˜ ì „ë‹¬í•˜ê¸° */
        // ë§Œì•½ ì´ì „ ê°’ì„ ë°”íƒ•ìœ¼ë¡œ í˜„ì¬ stateê°’ì„ ì„¤ì •í•˜ê³  ì‹¶ë‹¤ë©´
        // ì´ì œ ì´ í•¨ìˆ˜ê°€ ë­˜ return í•˜ë“ , ìƒˆë¡œìš´ stateê°€ ë¨
        // +) ë” ì•ˆì „í•¨ âœ” b/c reactê°€ ì´ currentê°€ í™•ì‹¤íˆ í˜„ì¬ ê°’ì´ë¼ëŠ” ê²ƒì„ ë³´ì¥í•¨
        // ì•ìœ¼ë¡œ ì´ í˜„ì¬ state ê¸°ë°˜ìœ¼ë¡œ ë‹¤ìŒ stateë¥¼ ê³„ì‚°í•˜ê³  ì‹¶ë‹¤ë©´, í•¨ìˆ˜ë¥¼ ì´ìš©
        setCounter((current) => current+1);
      }
      // modifier í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ì»´í¬ë„ŒíŠ¸ì˜ state(ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ data)ë¥¼ ë°”ê¿€ ë•Œ, 
      // componentëŠ” ìƒˆë¡œìš´ ê°’ì„ ê°€ì§€ê³  rerendering
      // ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ setCounter() í˜¸ì¶œ -> setCounter()ëŠ” ë¦¬ë Œë”ë§ì„ ì¼ìœ¼í‚´
      // => renderedê°€ í•œ ë²ˆ ë” ì¶œë ¥, í˜„ì¬ counter ë³€ìˆ˜ ê°’ ì¶œë ¥
      // â­ React JSì˜ í•µì‹¬ = state(ë°ì´í„°)ê°€ ë°”ë€”ë•Œë§ˆë‹¤ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ë Œë”ë§ + UI refresh
      console.log("rendered");
      console.log(counter);

      // const counter = data[0];
      // const modifier = data[1];

      // ì‚¬ìš©ìê°€ ë³´ê²Œë  component
      // ë³€ìˆ˜ë¥¼ componentì— ì—°ê²° -> ë³€ìˆ˜ = ë°ì´í„° -> í•´ë‹¹ ë³€ìˆ˜ì— ë‹´ê¸´ ê°’ ë³€ê²½
      return (
        <div>
          {/* <h3>Total clicks: { data[0] }</h3> */}
          <h3>Total clicks: { counter }</h3>
          <button onClick={onClick}>Click me</button>
        </div>
      );
    }
    // JSXë¬¸ë²•ìœ¼ë¡œ Titleì´ë‚˜ Buttonì„ í¬í•¨ì‹œí‚¤ê¸° ìœ„í•œ ë°©ë²•
    // 1. ì´ elementë“¤ì„ function(í•¨ìˆ˜)ë¡œ ë§Œë“¤ì–´ì•¼ í•¨
    // 2. ê·¸ë¦¬ê³  html tagì²˜ëŸ¼ ì´ elementë¥¼ ë„£ì–´ì¤Œ
    // â­ componentì˜ ì²« ê¸€ìëŠ” ë°˜ë“œì‹œ ëŒ€ë¬¸ì!!!
    // ë§Œì•½ ì†Œë¬¸ì, reactë‘ JSXëŠ” ì´ê²Œ ì¼ë°˜ html tagë¼ê³  ìƒê°í•¨

    // ì´ë ‡ê²Œ JSXëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì—¬ëŸ¬ê°€ì§€ ì‘ì€ ìš”ì†Œë¡œ ë‚˜ëˆ„ì–´ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì¤Œ
    // ì—¬ëŸ¬ ìš”ì†Œë¡œ ì˜ê²Œ ìª¼ê°œì„œ ë§Œë“¤ì–´ì„œ ë Œë”ë§ìœ¼ë¡œ í•©ì³ì£¼ê¸°ë§Œ í•˜ë©´ ë¨
    // Babelì€ ì´ê±¸ reactì½”ë“œë¡œ ë³€í™˜ â†’ title(), button(), Container()ë¥¼ createElement()ë¡œ returní•¨
    // ì§ì ‘ ë§Œë“  componentë¥¼ ë Œë”ë§í•´ì„œ ë‹¤ë¥¸ ê³³ì—ì„œ ì‚¬ìš©í•  ë•ŒëŠ” í•­ìƒ â­ëŒ€ë¬¸ìâ­ë¡œ ì‹œì‘í•´ì•¼í•¨!!!

    // render() = React elementë¥¼ ê°€ì§€ê³  htmlë¡œ ë§Œë“¤ì–´ ë°°ì¹˜ -> ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì¤€ë‹¤
    // render(ë°°ì¹˜í•  element, ë°°ì¹˜í•  ì¥ì†Œ);
    // ReactDOM.render(span, root);
    ReactDOM.render(<App />, root);
    // render();
  </script>
</html>
