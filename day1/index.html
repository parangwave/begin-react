<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JSX pt.2</title>
    <!-- JSX; JS를 확장한 문법  -->
    <!-- html에서 사용한 문법과 흡사한 문법을 사용해서 react요소를 만들 수 있게 함 -->
  </head>
  <body>
    <div id="root"></div>
  </body>
  <!-- for react 작업, react, react dom를 import해야 함 -->
  <!-- React JS(엔진) = 어플리케이션이 아주 interactive하도록 만들어주는 library -->
  <script src="https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
  <!-- React DOM = library 또는 package, 모든 react element들을 html body에 두는 역할 -->
  <script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
  <!-- console에 React를 쳐보고 잘 import되었는지 확인하기 -->

  <!-- Babel; 코드 변환해줌. 우리가 JSX로 적은 코드를 브라우저가 이해할 수 있는 형태로 바꿔줌 -->
  <!-- Babel standalone을 통해 다운받을 것 -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <script type="text/babel">
    // React Js element를 생성하는 방법
    // js를 이용해서 만들것임
    // 참고로 개발자들이 사용하는 방식은 X

    const root = document.getElementById("root");

    // console에 span을 치면 나옴
    // 즉, span은 생성되었으나 page에는 올라오지 X
    // 두번째 argument로 span의 props를 둘 수 있음

    // ⭐ react는 element 업데이트가 필요하면 그걸 알고 자동으로 함
    // ⭐ 즉, 유저에게 보일 내용을 제어할 수 있음
    // ⭐ JS에서 element를 만듦 -> React JS가 html로 번역함

    // React JS는 바로 interactivity를 위하여 제작됨
    // interactive한 어플리케이션에서 하는 작업들 = 모두 event 감지하는 일
    // addEventListener를 하나하나 등록하는 대신, property에서 event를 등록할 수 있게 됨
    /*
    const h3 = React.createElement(
      "h3",
      {
        id: "title",
        style: { color: "cornflowerblue" },
        onMouseEnter: () => console.log("mouse enter"),
      },
      "Hello , I'm a span"
    );
    */

    // JSX 문법으로 쓰니 html 문법에 가까움!
    // html tag사이에 content를 넣고 props를 적어주면 됨
    function Title () {
      return (
        <h3 id="title" onMouseEnter={() => console.log("mouse enter")}>
          Hello , I'm a title
        </h3>
      );
    }

    // arrow func의 ()와 {} 사용의 차이점
    // () => (); ; 이미 return까지 포함함 (편리한 문법으로 사용 多)
    // () => {return ();} = () => ();

    // ※ constant의 이름은 html 태그 이름과 반드시 일치할 필요 XX
    /*
    const btn = React.createElement(
      "button",
      {
        onClick: () => console.log("i'm clicked"),
      },
      "Click me"
    );
    */

    const Button = () => (
      <button
        style={{ backgroundColor: "tomato" }}
        onClick={() => console.log("i'm clicked")}
      >
        Click me
      </button>
    );

    // const container = React.createElement("div", null, [h3, btn]);
    // const Container = <div>Title Button</div>;

    // JSX pt.2는 밑의 코드를 JSX 방식으로 적어볼 것임 
    // const Container  = React.createElement("div", null, [Title, Button]);
    
    const Container = () => (
      <div>
        <button>Hi</button>
        <Title />   
        <Button />
      </div>
    );
    // JSX문법으로 Title이나 Button을 포함시키기 위한 방법
    // 1. 이 element들을 function(함수)로 만들어야 함
    // 2. 그리고 html tag처럼 이 element를 넣어줌
    // ⭐ component의 첫 글자는 반드시 대문자!!!
    // 만약 소문자, react랑 JSX는 이게 일반 html tag라고 생각함
    
    // 이렇게 JSX는 어플리케이션을 여러가지 작은 요소로 나누어 관리할 수 있게 해줌
    // 여러 요소로 잘게 쪼개서 만들어서 렌더링으로 합쳐주기만 하면 됨
    // Babel은 이걸 react코드로 변환 → title(), button(), Container()를 createElement()로 return함
    // 직접 만든 component를 렌더링해서 다른 곳에서 사용할 때는 항상 ⭐대문자⭐로 시작해야함!!!

    // render() = React element를 가지고 html로 만들어 배치 -> 사용자에게 보여준다
    // render(배치할 element, 배치할 장소);
    // ReactDOM.render(span, root);
    ReactDOM.render(<Container />, root);
  </script>
</html>
